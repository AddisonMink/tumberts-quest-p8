pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
#include ui.lua
#include inventory-ui.lua
#include add-item-ui.lua
#include select-items-ui.lua
#include hud-ui.lua
#include sprite.lua
#include world.lua

max_items = 5
ui = ui_module()
sprite = sprite_module()
hud = hud_ui_module(max_items)

items = {
  { name = "axe", desc = "swing axe", icon = 33 },
  { name = "bow", desc = "shoot bow", icon = 48 }
}

treasures = {
  [7 .. "," .. 7] = items[2]
}

world = world_module(items, max_items, treasures)

function _init()
end

function _update()
  --world:update()
end

function _draw()
  cls()
  --world:draw()
  sprite:spr(38, "big", 10, 10, true)
end

__gfx__
0000000000ffffffffffff00333bb333000cc0003399993300111111111111000022222222222200000000000000000000000000000000000000000000000000
000000000f111111111111f033bbbb3300cccc0039444493015555555555551002555555555555200c0000000000000000000000000000000000000000000000
00000000f11111111111111f33bb3333cccccccc94444449155555555555555125555555555555520c0000000000000000000000000000000000000000000000
00000000f11111111111111f3bbbbbb3007777004449944415555555555555512555555555555552cc7777777700000000000000000000000000000000000000
00000000f11111111111111f33b33bb30cc55cc09999999915555555555555512555555555555552cc7777770000000000000000000000000000000000000000
00000000f11111111111111fbb3bb33b4477774444499444155555555555555125555555555555520c0000000000000000000000000000000000000000000000
00000000f11111111111111f333443334777777494444449155555555555555125555555555555520c0000000000000000000000000000000000000000000000
00000000f11111111111111f33344333044004409999999915555555555555512555555555555552000000000000000000000000000000000000000000000000
00000000f11111111111111f33333333000cc0005666666515555555555555512555555555555552000000000000000000000000000000000000000000000000
07700000f11111111111111f33b3333300cccc006665566615555555555555512555555555555552000000000000000000000000000000000000000000000000
07770000f11111111111111f3b333333cccccccc6655556615555555555555512555555555555552000000000000000000000000000000000000000000000000
07777000f11111111111111f3b333b33007777006655556615555555555555512555555555555552000000000000000000000000000000000000000000000000
07770000f11111111111111f33333b3344c55cc06665566601555555555555100255555555555520000000000000000000000000000000000000000000000000
07700000f11111111111111f33b33333447777746665566600111111111111000022222222222200000000000000000000000000000000000000000000000000
000000000f111111111111f033b333b3077774446655556600000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000ffffffffffff0033333333044004405666666500000000000000000000000000000000000000000000000000000000000000000000000000000000
0ffffff00ffffff0336ff63333d33d3d338888333334433300000000000000000000000000000000000000000000000000000000000000000000000000000000
f000000ffffff55f336ff633333dddd338888883334444330000000cc00000000000000000000000000000000000000000000000000000000000000000000000
f000000fffff555f336ff633d3dddd3388888888344444430000000cc00000000000000000000000000000000000000000000000000000000000000000000000
f000000ff5f555ff336ff6333d5d5ddd8808808844666644000000cccc0000000000000000000000000000000000000000000000000000000000000000000000
f000000fff555fff336ff63333dddd338808808836644663000003cccc3000000000000000000000000000000000000000000000000000000000000000000000
f000000ff555ffff336ff63333d5dd3338800883366446630ccccc3333ccccc00000000000000000000000000000000000000000000000000000000000000000
f000000ff55f5fff336ff6333dd5dd3333888833366446630000cccccccc00000000000000000000000000000000000000000000000000000000000000000000
0ffffff00ffffff0336ff633dd3dd3dd338888333366663300000777707000000000000000000000000000000000000000000000000000000000000000000000
0ffffff0336666333333333333333333336633660000000000000cccc70000000000000000000000000000000000000000000000000000000000000000000000
ffff5fff36ffff633333333333d333336633663300000000000cc0000cc000000000000000000000000000000000000000000000000000000000000000000000
fff5f5ff6ffffff6666666663d333333336633660000000000cc0330770330000000000000000000000000000000000000000000000000000000000000000000
f555555f6ffffff6ffffffff3d333d3366336633000000000cc03337777030000000000000000000000000000000000000000000000000000000000000000000
f555555f6ffffff6ffffffff33333d3333663366000000000cc00337777000000000000000000000000000000000000000000000000000000000000000000000
fff5f5ff6ffffff66666666633d3333366336633000000000cc03777770300000000000000000000000000000000000000000000000000000000000000000000
ffff5fff36ffff633333333333d333d333663366000000000c033330003330000000000000000000000000000000000000000000000000000000000000000000
0ffffff0336666333333333333333333663366330000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
1313131313131313131313131313330000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1305031331323231323231323205130000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1322131322031315131322130313130000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1331323224323231330324323231130000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1322031313130322131322131322130000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1305133331323225323231132305130000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1303131322031313330315133303130000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1324323231323205133331323231230000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1322331322130323332322332322330000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1331031331323224323231133324330000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1322132315133322033315233322230000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1305323231323231232324323224330000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1333131313331313333333232333230000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
